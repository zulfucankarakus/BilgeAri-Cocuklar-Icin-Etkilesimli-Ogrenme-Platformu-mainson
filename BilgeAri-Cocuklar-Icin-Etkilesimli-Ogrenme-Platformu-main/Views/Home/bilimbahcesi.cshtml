@{
    ViewData["Title"] = "Bilim BahÃ§esi";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/bilim.css" asp-append-version="true" />
    <style>
        .garden-hero {
            position: relative;
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 50%, #CDDC39 100%);
            padding: 100px 20px;
            color: white;
            text-align: center;
            overflow: hidden;
            z-index: 5;
        }

        .garden-hero h1 {
            font-size: 4rem;
            text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.4);
            animation: floatTitle 3s ease-in-out infinite;
            margin-bottom: 20px;
        }

        .flower-animation {
            position: absolute;
            font-size: 3rem;
            animation: float 4s ease-in-out infinite;
        }

        .flower-1 {
            top: 20px;
            left: 10%;
            animation-delay: 0s;
        }

        .flower-2 {
            top: 60px;
            right: 15%;
            animation-delay: 1s;
        }

        .flower-3 {
            bottom: 30px;
            left: 20%;
            animation-delay: 2s;
        }

        .flower-4 {
            bottom: 50px;
            right: 10%;
            animation-delay: 1.5s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-15px) rotate(5deg);
            }
        }
    </style>
}

<div class="bee-guide">
    <img src="~/images/girismaskot.png" alt="Bilge ArÄ±" class="bee-mascot" onclick="toggleSpeech()">
    <div class="speech-bubble" id="speechBubble">
        <p class="speech-text" id="speechText">Merhaba minik bahÃ§Ä±van! Ben Bilge ArÄ±! ğŸ Seninle harika bitkiler
            keÅŸfedeceÄŸiz!</p>
    </div>
</div>

<section class="garden-hero">
    <div class="flower-animation flower-1">ğŸŒ»</div>
    <div class="flower-animation flower-2">ğŸŒ¹</div>
    <div class="flower-animation flower-3">ğŸŒ·</div>
    <div class="flower-animation flower-4">ğŸŒº</div>
    
    <div class="container">
        <h1>ğŸŒ± Bilim BahÃ§esi</h1>
        <p>Bitkilerin bÃ¼yÃ¼lÃ¼ dÃ¼nyasÄ±na hoÅŸ geldin!</p>
        <p>ğŸŒŸ Hadi birlikte doÄŸayÄ± keÅŸfedelim! ğŸŒŸ</p>
    </div>
</section>

<section class="topics-section" id="topics-section">
    <div class="container">
        <h2>Hangi Bitkiyi KeÅŸfetmek Ä°stersin?</h2>

        <div class="row">
            <div class="col-md-6 col-lg-4">
                <div class="topic-card" data-topic="cicekler" onclick="openCardViewerAndScroll('cicekler')">
                    <span class="topic-icon">ğŸŒ¸</span>
                    <h3 class="topic-title">Renkli Ã‡iÃ§ekler</h3>
                    <p class="topic-description">
                        Ã‡iÃ§eklerin muhteÅŸem renkleri, kokula ve arÄ±larla dostluÄŸunu keÅŸfet!
                    </p>
                    <a href="javascript:void(0)" class="start-learning-btn">Ã–ÄŸrenmeye BaÅŸla! ğŸŒº</a>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="topic-card" data-topic="agaclar" onclick="openCardViewerAndScroll('agaclar')">
                    <span class="topic-icon">ğŸŒ³</span>
                    <h3 class="topic-title">Dev AÄŸaÃ§lar</h3>
                    <p class="topic-description">
                        AÄŸaÃ§larÄ±n nasÄ±l bÃ¼yÃ¼dÃ¼ÄŸÃ¼nÃ¼, yÃ¼zlerce yÄ±l yaÅŸadÄ±ÄŸÄ±nÄ± ve bize neler verdiÄŸini Ã¶ÄŸren!
                    </p>
                    <a href="javascript:void(0)" class="start-learning-btn">KeÅŸfet! ğŸŒ²</a>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="topic-card" data-topic="meyveler" onclick="openCardViewerAndScroll('meyveler')">
                    <span class="topic-icon">ğŸ</span>
                    <h3 class="topic-title">Lezzetli Meyveler</h3>
                    <p class="topic-description">
                        Meyvelerin nasÄ±l oluÅŸtuÄŸunu, tohumlarÄ±n sÄ±rlarÄ±nÄ± ve vitamin dolu dÃ¼nyalarÄ±nÄ± gÃ¶r!
                    </p>
                    <a href="javascript:void(0)" class="start-learning-btn">TadÄ±na Bak! ğŸ“</a>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="topic-card" data-topic="sebzeler" onclick="openCardViewerAndScroll('sebzeler')">
                    <span class="topic-icon">ğŸ¥•</span>
                    <h3 class="topic-title">SaÄŸlÄ±klÄ± Sebzeler</h3>
                    <p class="topic-description">
                        YeraltÄ±nda ve yerÃ¼stÃ¼nde bÃ¼yÃ¼yen sebzelerin gÃ¼Ã§lÃ¼ Ã¶zelliklerini keÅŸfet!
                    </p>
                    <a href="javascript:void(0)" class="start-learning-btn">Sebze DÃ¼nyasÄ±! ğŸ¥¦</a>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="topic-card" data-topic="ormandostlari" onclick="openCardViewerAndScroll('ormandostlari')">
                    <span class="topic-icon">ğŸ„</span>
                    <h3 class="topic-title">Orman DostlarÄ±</h3>
                    <p class="topic-description">
                        Mantarlar, yosunlar ve kÃ¼Ã§Ã¼k bitkilerin ormanÄ± nasÄ±l bir yer yaptÄ±ÄŸÄ±nÄ± Ã¶ÄŸren!
                    </p>
                    <a href="javascript:void(0)" class="start-learning-btn">Ormana Gel! ğŸŒ¿</a>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="topic-card" data-topic="tohumlar" onclick="openCardViewerAndScroll('tohumlar')">
                    <span class="topic-icon">ğŸŒ¾</span>
                    <h3 class="topic-title">Sihirli Tohumlar</h3>
                    <p class="topic-description">
                        Minik tohumlarÄ±n nasÄ±l dev aÄŸaÃ§lara dÃ¶nÃ¼ÅŸtÃ¼ÄŸÃ¼nÃ¼, Ã§imlenme sÄ±rlarÄ±nÄ± keÅŸfet!
                    </p>
                    <a href="javascript:void(0)" class="start-learning-btn">Tohum SÄ±rlarÄ±! ğŸŒ±</a>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container">
    <div style="background: linear-gradient(135deg, #FFF9C4 0%, #FFE082 100%); border: 3px dashed var(--dark-blue); border-radius: 20px; padding: 30px; margin: 40px 0; text-align: center;">
        <h3 style="color: var(--dark-blue); font-size: 2rem; margin-bottom: 15px;">ğŸ’¡ Bilge ArÄ±'dan Ä°pucu!</h3>
        <p style="font-size: 1.1rem; color: #5D4037; line-height: 1.6;">
            Bitkiler bizim iÃ§in Ã§ok Ã¶nemlidir! Onlar havadaki karbondioksiti temizler ve bize oksijen verir. 
            AyrÄ±ca yiyeceklerimizin Ã§oÄŸu bitkilerden gelir. Bitkilere iyi bakmak, dÃ¼nyamÄ±zÄ± korumak demektir! ğŸŒğŸ’š
        </p>
    </div>
</div>

<section class="card-viewer-section" id="cardViewerSection">
    <div class="container">
        <div class="card-viewer-container" id="cardViewerContainer">
            <button class="close-viewer" onclick="closeCardViewer()">Ã—</button>

            <div class="card-viewer-content-wrapper">
                <div class="learning-card" id="learningCard"></div>
            </div>

            <div class="card-navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousCard()">â† Ã–nceki</button>
                <span class="card-counter" id="cardCounter">1 / 7</span>
                <button class="nav-btn" id="nextBtn" onclick="nextCard()">Sonraki â†’</button>
            </div>
        </div>
    </div>
</section>

<section class="mini-games-section" id="miniGamesSection">
    <div class="container">
        <h2 style="color: var(--dark-blue); font-size: 3rem; text-align: center; margin-bottom: 50px;">ğŸ® BahÃ§e OyunlarÄ±</h2>

        <div class="row">
            <div class="col-md-6 offset-md-3">
                <div class="game-card" onclick="startMatchingGameAndScroll()">
                    <div style="font-size: 5rem; margin-bottom: 20px;">ğŸŒ¼</div>
                    <h3 style="color: var(--dark-blue); font-size: 2rem; margin-bottom: 15px;">Ã‡iÃ§ek EÅŸleÅŸtirme</h3>
                    <p style="font-size: 1.1rem; color: #5D4037;">AynÄ± Ã§iÃ§ekleri bul ve eÅŸleÅŸtir! HafÄ±zanÄ± test et!</p>
                    <button class="start-learning-btn" style="margin-top: 15px;">Oyuna BaÅŸla! ğŸ²</button>
                </div>
            </div>
        </div>

        <div class="matching-game" id="matchingGame">
            <div class="game-header">
                <h3>ğŸŒ¼ Ã‡iÃ§ek EÅŸleÅŸtirme Oyunu</h3>
                <span style="font-size: 1.2rem; font-weight: 700; color: var(--dark-blue);">Hamle: <span
                        id="moveCount">0</span></span>
            </div>
            <div class="game-grid" id="gameGrid">
            </div>
            <div class="game-controls">
                <button class="nav-btn" onclick="resetGame()">Yeniden BaÅŸla ğŸ”„</button>
                <button class="nav-btn" onclick="closeGame()"
                    style="background: #ff4444; border-color: #cc0000; box-shadow: 0 4px 0 #cc0000;">Kapat âŒ</button>
            </div>
        </div>
    </div>
</section>

<section class="quiz-section" id="quizSection">
    <div class="container">
        <h2>ğŸ¯ Bitki Bilgini Test Et!</h2>

        <div class="quiz-start-card" id="quizStartCard">
            <div class="quiz-start-icon">ğŸŒ¿</div>
            <h3 style="color: var(--dark-blue); font-size: 1.8rem; margin-bottom: 15px; line-height: 1.3;">Bilge ArÄ±'nÄ±n
                BahÃ§e Testi!</h3>
            <p style="font-size: 1.1rem; margin-bottom: 20px; color: #5D4037; line-height: 1.5;">
                Bitkiler hakkÄ±nda Ã¶ÄŸrendiklerini test etme zamanÄ±! 10 harika soru seni bekliyor.<br>
                Haydi, en yÃ¼ksek puanÄ± al! ğŸš€
            </p>
            <button class="quiz-start-btn" onclick="startBahceQuiz()">Hadi BaÅŸlayalÄ±m! ğŸ®</button>
        </div>

        <div class="quiz-card" id="quizCard">
            <div class="quiz-progress">
                <div class="quiz-progress-bar" id="quizProgressBar">0%</div>
            </div>
            <div class="quiz-question-number" id="questionNumber"
                style="text-align: center; font-size: 0.9rem; margin-bottom: 10px; color: var(--dark-blue); font-weight: 700;">
                Soru 1 / 10</div>
            <div class="quiz-question" id="quizQuestion">
            </div>
            <div id="quizOptions">
            </div>
            <div class="quiz-explanation" id="quizExplanation">
            </div>
            <button class="quiz-next-btn" id="quizNextBtn" onclick="nextBahceQuestion()">Sonraki Soru â†’</button>
        </div>

        <div class="quiz-result-card" id="quizResultCard">
            <div class="quiz-result-icon" id="resultIcon">
            </div>
            <h3 class="quiz-result-title" id="resultTitle">
            </h3>
            <p class="quiz-result-score" id="resultScore">
            </p>
            <p id="resultMessage" style="font-size: 1.1rem; color: #5D4037; margin-bottom: 20px; line-height: 1.5;">
            </p>
            <button class="quiz-restart-btn" onclick="restartBahceQuiz()">Tekrar Dene! ğŸ”„</button>
        </div>
    </div>
</section>

@section Scripts {
    <script src="~/js/bilimbahcesi.js"></script>
}
